"use strict";(self.webpackChunkportal=self.webpackChunkportal||[]).push([[106],{27482:(m,C,u)=>{u.d(C,{No:()=>y,Id:()=>g});var l=u(37398),p=u(65879),v=u(88330);let g=(()=>{class c{constructor(e){this.db=e}getData(e){return this.db.collection(e).snapshotChanges()}getAllData(e){return this.db.collection(e).get()}setSingleDoc(e,t,r){return this.db.doc(`/${e}/${t}`).set(r)}getSignleDoc(e,t){return this.db.doc(`/${e}/${t}`).get()}addDataToSubCollection(e,t){return this.db.collection(e).add(t)}getSubCollectionData(e){return this.db.collection(e).get()}addData(e,t){return this.db.collection(e).add(t)}updateData(e,t,r){return this.db.collection(e).doc(t).update(r)}deleteData(e,t){return this.db.collection(e).doc(t).delete()}getSingleData(e,t){return this.db.collection(e).doc(t).get()}getSignleDocSnap(e,t){return this.db.collection(e).doc(t).snapshotChanges()}getDataByOrder(e,t){return this.db.collection(e,r=>r.orderBy(t)).snapshotChanges()}getSingleDocByField(e,t,r){return this.db.collection(e,i=>i.where(t,"==",r)).get()}getDocByTwoField(e,t,r,i,o){return this.db.collection(e,n=>n.where(t,"==",r).where(i,"==",o)).get().pipe((0,l.U)(n=>n.docs.map(s=>({...s.data()}))))}getDocByThreeField(e,t,r,i,o,n,s){return this.db.collection(e,a=>a.where(t,"==",r).where(i,"==",o).where(n,"==",s)).get().pipe((0,l.U)(a=>a.docs.map(h=>({...h.data(),id:h.id}))))}getSingleDataByField(e,t,r){return this.db.collection(e,i=>i.where(t,"==",r)).snapshotChanges()}getDataByOneField(e,t,r){return this.db.collection(e,i=>i.where(t,"==",r)).get().pipe((0,l.U)(i=>i.docs.map(o=>({...o.data(),id:o.id}))))}getSingleDataAsc(e){return this.db.collection(e,t=>t.orderBy("seqNo").limit(1)).get().pipe((0,l.U)(t=>{const r=t.docs[0];return r?{id:r.id,...r.data}:null}))}getSingleDataByFieldWithLimit(e,t,r,i){return this.db.collection(e,o=>o.where(t,"==",r).limit(i)).snapshotChanges()}getSingleDataByFieldWithOrder(e,t,r,i,o){return this.db.collection(e,n=>n.where(t,"==",r).orderBy(i,o)).snapshotChanges()}getSingleDataByFieldWithOrderAndLimit(e,t,r,i,o,n){return this.db.collection(e,s=>s.where(t,"==",r).orderBy(i,o).limit(n)).snapshotChanges()}static#e=this.\u0275fac=function(t){return new(t||c)(p.LFG(v.ST))};static#t=this.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();var d=u(15861);let y=(()=>{class c{constructor(e){this.crudSerive=e,this._coursesCollection="courses",this._chaptersCollection="chapters",this._projectsCollection="project",this._lecturesCollection="lectures",this._slidesCollection="slides"}getAllCourses(){return this.crudSerive.getDataByOrder(this._coursesCollection,"seqNo").pipe((0,l.U)(e=>e.map(t=>({id:t.payload.doc.id,...t.payload.doc.data()}))))}getCourse(e){return this.crudSerive.getSignleDoc(this._coursesCollection,e).pipe((0,l.U)(t=>({id:t.id,...t.data()})))}createNewCourse(e,t,r){var i=this;return(0,d.Z)(function*(){return new Promise((o,n)=>{i.crudSerive.addData(i._coursesCollection,{title:e,description:t,seqNo:r}).then(s=>o(s)).catch(s=>n(s))})})()}editCourse(e,t){var r=this;return(0,d.Z)(function*(){return new Promise((i,o)=>{r.crudSerive.updateData(r._coursesCollection,e,t).then(n=>i(n)).catch(n=>o(n))})})()}deleteCourse(e){var t=this;return(0,d.Z)(function*(){return new Promise((r,i)=>{t.crudSerive.deleteData(t._coursesCollection,e).then(o=>r(o)).catch(o=>i(o))})})()}getChapters(e){return this.crudSerive.getDataByOrder(`/${this._coursesCollection}/${e}/${this._chaptersCollection}`,"seqNo").pipe((0,l.U)(t=>t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))))}getFirstChapter(e){return this.crudSerive.getSingleDataByField(`/${this._coursesCollection}/${e}/${this._chaptersCollection}`,"seqNo",1).pipe((0,l.U)(t=>t[0].payload.doc.id))}createNewCourseChapter(e,t){var r=this;return(0,d.Z)(function*(){return new Promise((i,o)=>{r.crudSerive.addDataToSubCollection(`/${r._coursesCollection}/${e}/${r._chaptersCollection}`,t).then(n=>i(n)).catch(n=>o(n))})})()}editChapterDetails(e,t,r){var i=this;return(0,d.Z)(function*(){return new Promise((o,n)=>{i.crudSerive.updateData(`/${i._coursesCollection}/${e}/${i._chaptersCollection}`,t,r).then(s=>o(s)).catch(s=>n(s))})})()}deleteChapter(e,t){var r=this;return(0,d.Z)(function*(){return new Promise((i,o)=>{r.crudSerive.deleteData(`/${r._coursesCollection}/${e}/${r._chaptersCollection}`,t).then(n=>i(n)).catch(n=>o(n))})})()}addProjects(e,t){this.crudSerive.addData(`${this._coursesCollection}/${e}/${this._projectsCollection}`,t)}getDataProject(e){return this.crudSerive.getData(`${this._coursesCollection}/${e}/${this._projectsCollection}`).pipe((0,l.U)(t=>t.map(r=>({id:r.payload.doc.id,...r.payload.doc.data()}))))}deletProject(e,t){return this.crudSerive.deleteData(`${this._coursesCollection}/${e}/${this._projectsCollection}`,t)}getOneProject(e,t){return this.crudSerive.getSignleDoc(`${this._coursesCollection}/${e}/${this._projectsCollection}`,t).pipe((0,l.U)(r=>({...r.data()})))}editCard(e,t,r){return this.crudSerive.updateData(`${this._coursesCollection}/${e}/${this._projectsCollection}`,t,{title:r})}editContent(e,t,r){return this.crudSerive.updateData(`${this._coursesCollection}/${e}/${this._projectsCollection}/`,t,{content:r})}getAllLectures(e,t){return this.crudSerive.getDataByOrder(`/${this._coursesCollection}/${e}/${this._chaptersCollection}/${t}/${this._lecturesCollection}`,"seqNo").pipe((0,l.U)(r=>r.map(i=>({id:i.payload.doc.id,...i.payload.doc.data()}))))}getFirstLecture(e,t){return this.crudSerive.getSingleDataByField(`/${this._coursesCollection}/${e}/${this._chaptersCollection}/${t}/${this._lecturesCollection}`,"seqNo",1).pipe((0,l.U)(r=>r[0].payload.doc.id))}addNewLecture(e,t,r){var i=this;return(0,d.Z)(function*(){return new Promise((o,n)=>{i.crudSerive.addDataToSubCollection(`/${i._coursesCollection}/${e}/${i._chaptersCollection}/${t}/${i._lecturesCollection}`,r).then(s=>o(s)).catch(s=>n(s))})})()}editLectureDetails(e,t,r,i){var o=this;return(0,d.Z)(function*(){return new Promise((n,s)=>{o.crudSerive.updateData(`/${o._coursesCollection}/${e}/${o._chaptersCollection}/${t}/${o._lecturesCollection}`,r,i).then(a=>n(a)).catch(a=>s(a))})})()}deleteLecture(e,t,r){var i=this;return(0,d.Z)(function*(){return new Promise((o,n)=>{i.crudSerive.deleteData(`/${i._coursesCollection}/${e}/${i._chaptersCollection}/${t}/${i._lecturesCollection}`,r).then(s=>o(s)).catch(s=>n(s))})})()}getAllSlides(e,t,r){return this.crudSerive.getDataByOrder(`/${this._coursesCollection}/${e}/${this._chaptersCollection}/${t}/${this._lecturesCollection}/${r}/${this._slidesCollection}`,"seqNo").pipe((0,l.U)(i=>i.map(o=>({id:o.payload.doc.id,...o.payload.doc.data()}))))}addSlide(e,t,r,i){var o=this;return(0,d.Z)(function*(){return new Promise((n,s)=>{o.crudSerive.addDataToSubCollection(`/${o._coursesCollection}/${e}/${o._chaptersCollection}/${t}/${o._lecturesCollection}/${r}/${o._slidesCollection}`,i).then(a=>n(a)).catch(a=>s(a))})})()}editSlide(e,t,r,i,o){var n=this;return(0,d.Z)(function*(){return new Promise((s,a)=>{n.crudSerive.updateData(`/${n._coursesCollection}/${e}/${n._chaptersCollection}/${t}/${n._lecturesCollection}/${r}/${n._slidesCollection}`,i,o).then(h=>s(h)).catch(h=>a(h))})})()}deleteSlide(e,t,r,i){var o=this;return(0,d.Z)(function*(){return new Promise((n,s)=>{o.crudSerive.deleteData(`/${o._coursesCollection}/${e}/${o._chaptersCollection}/${t}/${o._lecturesCollection}/${r}/${o._slidesCollection}`,i).then(a=>n(a)).catch(a=>s(a))})})()}getFirstCourse(){return this.crudSerive.getSingleDataAsc(this._coursesCollection)}static#e=this.\u0275fac=function(t){return new(t||c)(p.LFG(g))};static#t=this.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}return c})();u(45490)},489:(m,C,u)=>{u.d(C,{k:()=>l});var $=u(65879),S=u(57252);const l=(p,v)=>(0,$.f3M)(S.fz).userDoc}}]);